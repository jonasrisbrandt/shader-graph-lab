{
  "shaders": {
    "circle": { "$include": "./shaders/circle.frag.glsl" },
    "combine": { "$include": "./shaders/combine.frag.glsl" },
    "threshold": { "$include": "../common/components/bloom/shaders/threshold.frag.glsl" },
    "downsample": { "$include": "../common/components/bloom/shaders/downsample.frag.glsl" },
    "blur": { "$include": "../common/components/bloom/shaders/blur.frag.glsl" },
    "bloomCombine": { "$include": "../common/components/bloom/shaders/bloom-combine.frag.glsl" }
  },
  "components": {
    "bloom": { "$include": "../common/components/bloom/component.json" }
  },
  "graphs": {
    "main": {
      "passes": [
        {
          "id": "circle",
          "fragment": { "$ref": "shader.circle" },
          "outputs": {
            "color": { "format": "rgba16f", "size": { "kind": "full" }, "filter": "linear" }
          }
        },
        {
          "id": "combine",
          "fragment": { "$ref": "shader.combine" },
          "inputs": {
            "uBase": { "source": "circle.color" },
            "uBloom": { "source": "bloom.out" }
          },
          "outputs": {
            "out": { "format": "rgba16f", "size": { "kind": "full" }, "filter": "linear" }
          },
          "uniforms": {
            "uIntensity": { "type": "f1", "value": 1.8, "min": 0, "max": 6, "ui": { "label": "intensity", "group": "bloom" } }
          }
        }
      ],
      "components": [
        {
          "id": "bloom",
          "component": "bloom",
          "bindings": { "src": "circle.color" }
        }
      ],
      "output": "combine.out"
    }
  }
}
