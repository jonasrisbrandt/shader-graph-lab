{
  "name": "menger",
  "inputs": {},
  "outputs": {
    "color": {
      "ref": "menger.color",
      "contract": { "format": "rgba16f", "size": { "kind": "full" }, "filter": "linear" }
    }
  },
  "passes": [
    {
      "id": "menger",
      "fragment": { "$ref": "shader.menger" },
      "outputs": {
        "color": { "format": "rgba16f", "size": { "kind": "full" }, "filter": "linear" }
      },
      "uniforms": {
        "uMengerIter": { "type": "f1", "value": 4, "min": 1, "max": 5, "step": 1, "ui": { "group": "Fractal", "label": "Iterations" } },
        "uMengerScale": { "type": "f1", "value": 1.0, "min": 0.6, "max": 2.4, "step": 0.01, "ui": { "group": "Fractal", "label": "Scale" } },
        "uMengerOffset": { "type": "f3", "value": [0, 0, 0], "min": -1.5, "max": 1.5, "step": 0.01, "ui": { "group": "Fractal", "label": "Offset" } },
        "uRotateSpeed": { "type": "f1", "value": 0.5, "min": 0, "max": 2, "step": 0.01, "ui": { "group": "Fractal", "label": "Rotate Speed" } },
        "uMaxDist": { "type": "f1", "value": 10.0, "min": 4, "max": 20, "step": 0.1, "ui": { "group": "Raymarch", "label": "Max Distance" } },
        "uMaxSteps": { "type": "f1", "value": 120, "min": 32, "max": 128, "step": 1, "ui": { "group": "Raymarch", "label": "Max Steps" } },
        "uEpsilon": { "type": "f1", "value": 0.0018, "min": 0.0005, "max": 0.01, "step": 0.0001, "ui": { "group": "Raymarch", "label": "Epsilon" } },
        "uLightDir": { "type": "f3", "value": [0.45, 0.7, 0.35], "min": -1, "max": 1, "step": 0.01, "ui": { "group": "Lighting", "label": "Light Dir" } },
        "uLightColor": { "type": "f3", "value": [1, 0.98, 0.94], "min": 0, "max": 2, "step": 0.01, "ui": { "group": "Lighting", "label": "Light Color" } },
        "uAmbient": { "type": "f1", "value": 0.12, "min": 0, "max": 0.6, "step": 0.01, "ui": { "group": "Lighting", "label": "Ambient" } },
        "uShadowStrength": { "type": "f1", "value": 0.95, "min": 0, "max": 1, "step": 0.01, "ui": { "group": "Shadow", "label": "Shadow Strength" } },
        "uShadowSoftness": { "type": "f1", "value": 18.0, "min": 2, "max": 40, "step": 0.5, "ui": { "group": "Shadow", "label": "Shadow Softness" } },
        "uAoStrength": { "type": "f1", "value": 1.8, "min": 0, "max": 2, "step": 0.01, "ui": { "group": "Shadow", "label": "AO Strength" } },
        "uAoStep": { "type": "f1", "value": 0.08, "min": 0.02, "max": 0.2, "step": 0.005, "ui": { "group": "Shadow", "label": "AO Step" } },
        "uMengerColor": { "type": "f3", "value": [0.85, 0.88, 0.92], "min": 0, "max": 1, "step": 0.01, "ui": { "group": "Material", "label": "Menger Color" } },
        "uSpecStrength": { "type": "f1", "value": 0.35, "min": 0, "max": 2, "step": 0.01, "ui": { "group": "Material", "label": "Spec Strength" } },
        "uSpecPower": { "type": "f1", "value": 32.0, "min": 2, "max": 128, "step": 1, "ui": { "group": "Material", "label": "Spec Power" } },
        "uRimStrength": { "type": "f1", "value": 0.35, "min": 0, "max": 2, "step": 0.01, "ui": { "group": "Material", "label": "Rim Strength" } },
        "uRimPower": { "type": "f1", "value": 2.2, "min": 0.5, "max": 6, "step": 0.1, "ui": { "group": "Material", "label": "Rim Power" } }
      }
    }
  ]
}
